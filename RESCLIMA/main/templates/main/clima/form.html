{% extends 'main/clima/base.html' %}
{% load static %}

{% block title%}RESCLIMA | DATOS{% endblock %}

{% block content %}

<div class="section">
	<div class="row">
		<div class="col s12 m12 l6">
			<div class="card-panel">

				<div class="row">
					<!-- Clima Form -->
					<form method="post" enctype="multipart/form-data">
						{% csrf_token %}
						<div class="row">
							<!-- HEADER -->
							<div class="input-field col s12 m12 l12">
							{% ifequal form.instance.pk None %}
								<!--Create-->
								<p class="resclima-header">Importar datos</p>
								<!-- <h4 class="header">Importar datos</h4> -->
							{% else %}
								<!--Update-->
								<p class="resclima-header">Importar datos</p>
								<!-- <h4 class="header">Importar datos</h4> -->
							{% endifequal %}
							</div>
              <!-- Archivo CSV -->
							<div class="input-field only-file col s12 m12 l12">
									<label class="lable-file-field" for="id_file">Cargar datos [.csv]</label>
									<div class="div-field"><input type="file" name="file" required="" id="id_file"></div>
							</div>
			<!--Cambios dentro de la Form-->
							<!-- ID -->
							<div class="input-field col s12 m6 l6">
								<label for="{{ form.id.id_for_label }}">ID</label>
								{{ form.id }}
								<input type="text" value="{{ object.id }}" readonly>
							</div>
							<div class="input-field col s12 m6 l6">
            				  <label for="{{ form.tmin.id_for_label }}">TMIN</label>
            				  <input type="text" value="{{ object.tmin }}" >
            				</div>
						<!-- TMAX -->
							<div class="input-field col s12 m6 l6">
								<label for="{{ form.tmax.id_for_label }}">TMAX</label>
								<input type="text" value="{{ object.tmax }}">
							</div>
            			<!-- RR -->
							<div class="input-field col s12 m6 l6">
								<label for="{{ form.rr.id_for_label }}">RR</label>
								<input type="text" value="{{ object.rr }}" >
							</div>
            			<!-- Tipo de Movimiento -->
							<div class="input-field col s12 m6 l6">
								<label for="{{ form.oni.id_for_label }}">ONI</label>
								<input type="text" value="{{ object.oni }}" >
							</div>
						<!-- Fecha -->
							<div class="input-field col s12 m6 l6">
								<label for="{{ form.date.id_for_label }}">Fecha</label>
								<input type="text" value="{{ object.date }}">
							</div>
						</div>
						{% ifequal form.instance.pk None %}
							<!--Create-->
							<button class="btn waves-effect waves-light green accent-6" type="submit" ><i class="material-icons left">cloud_done</i>Guardar y salir</button>
						{% else %}
							<!--Update-->
							<button class="btn waves-effect waves-light" type="submit"><i class="material-icons left">check_circle</i> Guardar cambios y salir</button>
						{% endifequal %}
							<button class="btn waves-effect waves-light red accent-2" type="button" onClick="window.history.back();"><i class="material-icons left">cancel</i>Cancelar</button>
							<button class="mt-2 btn waves-effect waves-light" type="button" onClick="window.history.back();"><i class="material-icons left">keyboard_backspace</i>Atr√°s</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock content %}

{% block scripts %}
<script src="{% static 'main/js/materialize.min.js' %}" type= "text/javascript"></script>
{% endblock %}
