{% extends 'main/base.html' %}
{% load static %}

{% block title %} RESCLIMA DURAN | Capas Vectoriales{% endblock %}

{% block content %}
	{% if vectorlayers %}
		<h4>Capas vectoriales:</h4>
		<table border="0" cellspacing="0" cellpadding="5" style="padding-left:20px">
		{% for vectorlayer in vectorlayers %}
			<tr>
				<td>
					<span style="font-family:monospace">{{ vectorlayer.title}}</span>
				</td>
				<td>
					<a href="/vector/view/{{ vectorlayer.id }}">Visualizar</a>
				</td>
				<td>
					<a href="/vector/export/{{ vectorlayer.id }}">Descargar zip</a>
				</td>
				<td>
					<a href="/vector/edit/{{ vectorlayer.id }}">Editar</a>
				</td>
				<td>
					<a href="#" onclick="confirmationDelete('/vector/delete/{{ vectorlayer.id }}')"></a>>Eliminar</a>
				</td>
			</tr>
		{% endfor %}
		</table>
	{% else %}
		<h4>No hay capas</h4>
	{% endif %}
	<button class="btn default" type="button" onClick='window.location="/vector/import"'>Importar Shapefile</button>
	<div style="height:100px;"></div>
{% endblock %}


{% block extra_js %}
<script>
  function confirmationDelete(url){
    swal({
      title: "¿Seguro desea eliminar esta capa?",
      text: "¡Cuidado!",
      type: "warning",
      showCancelButton: true,
      confirmButtonClass: "btn-danger",
      confirmButtonText: "Eliminar",
      cancelButtonText: "Cancelar",
      closeOnConfirm: false,
      closeOnCancel: false
      },
      function(isConfirm) {
      if (isConfirm) {
        window.location.replace(url);
        swal("¡Borrado!", "La capa ha sido borrada correctamente", "success");
      } else {
        swal("¡Cancelado!", "No se ha registrado ningún cambio", "error");
      }
    });
  }
</script>

{% endblock extra_js %}